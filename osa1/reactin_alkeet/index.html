<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/component---src-templates-content-template-js.bb6688043828bda42216.css">@import url(https://fonts.googleapis.com/css?family=IBM+Plex+Mono:400,500,600);.course{position:relative}.course h1,.course h2,.course h3,.course h4,.course p{margin-left:3rem;padding-bottom:2rem}.course pre{margin:2rem 0;background-color:#33332d;color:#fff}.course img{border:11px solid transparent}.course a{border:0;border-bottom:2px;border-style:solid;border-color:transparent;padding:2px}.course .banner,.course .container{position:static}.course .letter{width:4rem;height:4rem;border-width:5px;border-style:solid;border-radius:2.5rem;text-align:center;margin:1rem;line-height:.8em}@media (min-width:640px){.course .letter{-webkit-transform:translate(-3rem,5rem);transform:translate(-3rem,5rem)}}.course .letter,.course h1{font-size:3.444rem;font-weight:700}.course li{list-style-type:none}.course li:before{content:"-";margin-right:1rem}.arrow__container{position:relative}.arrow__container:not():first-child{border-left:none}.arrow__container:not():first-child:before{content:"";background:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NzcuMTc1IDQ3Ny4xNzUiPjxwYXRoIGQ9Ik0zNjAuNzMxIDIyOS4wNzVsLTIyNS4xLTIyNS4xYy01LjMtNS4zLTEzLjgtNS4zLTE5LjEgMHMtNS4zIDEzLjggMCAxOS4xbDIxNS41IDIxNS41LTIxNS41IDIxNS41Yy01LjMgNS4zLTUuMyAxMy44IDAgMTkuMSAyLjYgMi42IDYuMSA0IDkuNSA0IDMuNCAwIDYuOS0xLjMgOS41LTRsMjI1LjEtMjI1LjFjNS4zLTUuMiA1LjMtMTMuOC4xLTE5eiIvPjwvc3ZnPg==) no-repeat;background-size:contain;position:absolute;top:0;left:0;height:100%;width:100%}.arrows--horizontal{display:flex;position:relative;margin:0;align-items:flex-start}.arrow__wrapper{display:flex;justify-content:flex-start;align-items:center;margin:0}.arrow__wrapper:first-of-type{border-right:none;z-index:20}.arrow__wrapper:nth-of-type(n+2){margin-left:-4rem;z-index:10}.arrow__wrapper:nth-of-type(n+2) .arrow__rectangle{border-left:none;padding-left:4rem}.arrow__wrapper:nth-of-type(3){z-index:5}.arrow__rectangle{padding:1rem;justify-content:center;align-items:center;border:2px solid #33332d;border-right:none;z-index:2;overflow:hidden}.arrow__rectangle .bold{font-weight:600}.arrow__rectangle--thick-border{border:3px solid #33332d;border-right:none}.arrow__point{padding:1.25rem;border:2px solid #33332d;border-bottom:none;border-left:none;-webkit-transform:translate(-1.3rem) rotate(45deg);transform:translate(-1.3rem) rotate(45deg);z-index:1;overflow:hidden}.arrow__point--thick-border{border:3px solid #33332d;border-bottom:none;border-left:none}.arrow__wrapper--stacked{display:flex;justify-content:flex-start;align-items:center;margin:auto auto auto 0}.arrow__wrapper--stacked:nth-of-type(n+2){margin-top:-2px}.arrow--stacked-letter{margin-right:2rem}.arrow--stacked-title{text-transform:uppercase;white-space:nowrap}.arrow__container--with-link{width:100%!important}.element--flex{display:flex;flex-wrap:wrap}.element--space-around{justify-content:space-around}.element--space-between{justify-content:space-between}.element--column{flex-direction:column}.element--centered{align-items:center}.element--horizontal-half{width:45%}.element--auto-bottom-margin{margin-bottom:auto}.element--flex-start{align-content:flex-start}.banner{display:flex;align-items:center;position:relative;padding:2.22rem 0;background-color:#e1e1e1}@media (min-width:992px){.banner{padding:3.444rem 3.444rem 4.444rem}}html{font-family:IBM Plex Mono,monospace;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:IBM Plex Mono,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:112.5%/1.45em IBM Plex Mono,monospace;box-sizing:border-box;overflow-y:scroll}*,:after,:before{box-sizing:inherit}body{color:rgba(0,0,0,.8);font-family:IBM Plex Mono,monospace;font-weight:400;word-wrap:break-word;-webkit-font-kerning:normal;font-kerning:normal;-ms-font-feature-settings:"kern","liga","clig","calt";-webkit-font-feature-settings:"kern","liga","clig","calt";font-feature-settings:"kern","liga","clig","calt"}img{max-width:100%;padding:0;margin:0 0 1.45rem}h1{font-size:2.25rem}h1,h2{padding:0;margin:0 0 1.45rem;color:inherit;font-family:IBM Plex Mono,monospace;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h2{font-size:1.62671rem}h3{font-size:1.38316rem}h3,h4{padding:0;margin:0 0 1.45rem;color:inherit;font-family:IBM Plex Mono,monospace;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h4{font-size:1rem}h5{font-size:.85028rem}h5,h6{padding:0;margin:0 0 1.45rem;color:inherit;font-family:IBM Plex Mono,monospace;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h6{font-size:.78405rem}hgroup{padding:0;margin:0 0 1.45rem}ol,ul{padding:0;margin:0 0 1.45rem 1.45rem;list-style-position:outside;list-style-image:none}dd,dl,figure,p{padding:0;margin:0 0 1.45rem}pre{margin:0 0 1.45rem;font-size:.85rem;line-height:1.42;background:rgba(0,0,0,.04);border-radius:3px;overflow:auto;word-wrap:normal;padding:1.45rem}table{font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%}fieldset,table{padding:0;margin:0 0 1.45rem}blockquote{padding:0;margin:0 1.45rem 1.45rem}form,iframe,noscript{padding:0;margin:0 0 1.45rem}hr{padding:0;margin:0 0 calc(1.45rem - 1px);background:rgba(0,0,0,.2);border:none;height:1px}address{padding:0;margin:0 0 1.45rem}b,dt,strong,th{font-weight:700}li{margin-bottom:.725rem}ol li,ul li{padding-left:0}li>ol,li>ul{margin-left:1.45rem;margin-bottom:.725rem;margin-top:.725rem}blockquote :last-child,li :last-child,p :last-child{margin-bottom:0}li>p{margin-bottom:.725rem}code,kbd,samp{font-size:.85rem;line-height:1.45rem}abbr,abbr[title],acronym{border-bottom:1px dotted rgba(0,0,0,.5);cursor:help}abbr[title]{text-decoration:none}td,th,thead{text-align:left}td,th{border-bottom:1px solid rgba(0,0,0,.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding:.725rem .96667rem calc(.725rem - 1px)}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}code,tt{background-color:rgba(0,0,0,.04);border-radius:3px;font-family:SFMono-Regular,Consolas,Roboto Mono,Droid Sans Mono,Liberation Mono,Menlo,Courier,monospace;padding:.2em 0}pre code{background:none;line-height:1.42}code:after,code:before,tt:after,tt:before{letter-spacing:-.2em;content:" "}pre code:after,pre code:before,pre tt:after,pre tt:before{content:""}@media only screen and (max-width:480px){html{font-size:100%}}body,html{margin:0;padding:0;font-family:IBM Plex Mono,monospace;font-weight:500;color:#33332d;font-size:14px;line-height:1.555rem}@media (min-width:992px){body,html{font-size:18px}}body{padding-top:120px}@media (min-width:992px){body{padding-top:90px}}p{margin:0;text-align:left;line-height:1.5em}a,p{color:#33332d}a{text-decoration:none}.container{position:relative;margin:0 auto;display:flex;flex-wrap:wrap;justify-content:space-between;width:90%;max-width:1200px}.hidden{display:none!important}.centered{text-align:center}.spacing{margin-top:2.22rem}@media (min-width:992px){.spacing{margin-top:5.55rem}}.spacing--small{margin-top:1.11rem}@media (min-width:992px){.spacing--small{margin-top:3.444rem}}.spacing--large{margin-top:4.44rem}@media (min-width:992px){.spacing--large{margin-top:11.1rem}}.spacing--extra-large{margin-top:4.44rem}@media (min-width:992px){.spacing--extra-large{margin-top:22.2rem}}.spacing--after{margin-bottom:2.22rem}@media (min-width:992px){.spacing--after{margin-bottom:5.55rem}}.spacing--after-small{margin-bottom:1.11rem}@media (min-width:992px){.spacing--after-small{margin-bottom:2.775rem}}.spacing--after-large{margin-bottom:4.44rem}@media (min-width:992px){.spacing--after-large{margin-bottom:11.1rem}}@media (max-width:991px){.spacing--mobile{margin-top:2.22rem}}.col-1{width:100%}@media (min-width:992px){.col-1{width:10%}}.col-2{width:100%}@media (min-width:992px){.col-2{width:20%}}.col-3{width:100%}@media (min-width:992px){.col-3{width:30%}}.col-4{width:100%}@media (min-width:992px){.col-4{width:40%}}.col-5{width:100%}@media (min-width:992px){.col-5{width:50%}}.col-6{width:100%}@media (min-width:992px){.col-6{width:60%}}.col-7{width:100%}@media (min-width:992px){.col-7{width:70%}}.col-8{width:100%}@media (min-width:992px){.col-8{width:80%}}.col-9{width:100%}@media (min-width:992px){.col-9{width:90%}}.col-10{width:100%}@media (min-width:992px){.col-10{width:100%}}@media (min-width:992px){.push-right-1{margin-left:10%}.push-right-2{margin-left:20%}.push-right-3{margin-left:30%}.push-right-4{margin-left:40%}.push-right-5{margin-left:50%}.push-left-1{margin-right:10%}.push-left-2{margin-right:20%}.push-left-3{margin-right:30%}.push-left-4{margin-right:40%}.push-left-5{margin-right:50%}.push-left{margin-right:auto}.push-right{margin-left:auto}}@media (max-width:991px){.col-5--mobile{width:50%}.col-10--mobile{width:100%}.order-0--mobile{order:0}.order-1--mobile{order:1}.order-2--mobile{order:2}.order-3--mobile{order:3}.order-4--mobile{order:4}.order-5--mobile{order:5}.hidden--mobile{display:none}}.centered-vertically{display:flex;flex-direction:column;justify-content:center}.nav-item-hover{font-size:1.111rem;font-weight:600;text-decoration:none;color:#33332d;padding:.2em}.nav-item-hover:active,.nav-item-hover:focus,.nav-item-hover:hover{color:#fff;background-color:#33332d}.nav-item-hover:active,.nav-item-hover:focus{outline:2px solid #706be4}.flex-fix-aligning:after,.flex-fix-aligning:before{content:"";width:30%;order:2}#footer .nav-item-hover{font-size:.777rem;font-weight:500}.triple-border{margin:5px;position:relative;padding:2px;border-radius:5px 0;transition:color .1s ease-in-out,background-color .1s ease-in-out}.triple-border:after,.triple-border:before{content:"";border:2px solid #33332d;border-radius:5px;position:absolute;width:calc(100% + 5px);height:calc(100% + 5px)}.triple-border:before{left:0;top:0}.triple-border:after{bottom:0;right:0}.triple-border__container{overflow:hidden;border-radius:3px 0}.triple-border--large-margin{margin:13px;padding:3px}.triple-border--large-margin:after,.triple-border--large-margin:before{content:"";border-width:3px;border-radius:13px;width:calc(100% + 13px);height:calc(100% + 13px)}.triple-border--large-margin .triple-border__container{border-radius:10px 0}.triple-border__logo{padding:.2rem;font-size:1.111rem;font-weight:600}.triple-border__return-tasks{font-size:.9rem;padding:1rem .2rem}.body-text:not(:last-of-type){margin-bottom:2.775rem}.body-text__title{color:#33332d;font-size:1.44rem;line-height:1.25em;font-weight:700;margin:0;position:relative;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.body-text__content:not(:last-of-type){padding-bottom:2em}.bold{font-weight:700}.body-text--no-padding{padding:0!important}.scroll-navigation li:hover{cursor:pointer;background-color:#000;color:#fff}.sub-header{color:#33332d;font-family:IBM Plex Mono,monospace;padding-bottom:1.357rem}@media (min-width:992px){.sub-header{padding-bottom:2.333rem}}</style><meta name="generator" content="Gatsby 2.0.53"/><title data-react-helmet="true"></title><link rel="shortcut icon" href="/icons/icon-48x48.png"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#663399"/><link as="script" rel="preload" href="/component---src-templates-content-template-js-1511b04e7342894ff772.js"/><link as="script" rel="preload" href="/2-a8e181bf0eaee510a2de.js"/><link as="script" rel="preload" href="/app-e57bcd659185b811abbf.js"/><link as="script" rel="preload" href="/webpack-runtime-3b805a48dcba249fc046.js"/><link rel="preload" href="/static/d/774/path---osa-1-reactin-alkeet-28-b-9c8-nLP7HwLChSFB8CTZF71paBCZsw.json" as="fetch" crossOrigin="use-credentials"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><div><div class="container" style="align-items:center"><a style="text-decoration:none" href="/"><div class="triple-border nav-item-hover " style="padding:0.2em"><div class="triple-border__container triple-border__logo" style="background-color:transparent">{() =&gt; fs}</div></div></a><div class="col-4 push-left-4" style="display:flex;justify-content:space-between;font-weight:bold"><a class="nav-item-hover" href="/about">KURSSISTA</a><a class="nav-item-hover" href="/faq">FAQs</a><a class="nav-item-hover" href="/companies">YRITYSESITTELYT</a></div></div><div class="spacing--small spacing--after"><div class="course-container"><div class="banner spacing--after" style="background-image:url(/static/osa1-b7ac07cbe6df8ed745701fabe73af8ef.png);background-position:center center;background-size:80%;background-repeat:no-repeat;background-color:#AEFFDA"><div class="container"><div class="col-10 spacing spacing--after"><div class="arrow__container arrows--horizontal"><div class="arrow__wrapper "><div class="arrow__rectangle  " style="background-color:#AEFFDA;color:black">YLEISTÄ</div><div class="arrow__point " style="background-color:#AEFFDA;color:black"></div></div><div class="arrow__wrapper "><div class="arrow__rectangle  " style="background-color:#AEFFDA;color:black">OSA 1 YLEISTÄ</div><div class="arrow__point " style="background-color:#AEFFDA;color:black"></div></div><div class="arrow__wrapper "><div class="arrow__rectangle  " style="background-color:black;color:white">REACT</div><div class="arrow__point " style="background-color:black;color:white"></div></div></div></div></div></div><div class="course"><div class="container"><div class="col-7 course-content push-right-3" style="border-color:#AEFFDA"><p class="col-1 letter" style="border-color:#AEFFDA">a</p><h1 class="sub-header ">React</h1></div></div><div class="container"><div class="scroll-navigation col-3 element--flex element--column"></div><div class="course-content col-7">
<p>Alamme nyt tutustua kurssin ehkä tärkeimpään teemaan, <a href="https://reactjs.org/">React</a>-kirjastoon. Tehdään heti yksinkertainen React-sovellus ja tutustutaan samalla Reactin peruskäsitteistöön.</p>
<p>Ehdottomasti helpoin tapa päästä alkuun on <a href="https://github.com/facebookincubator/create-react-app">create-react-app</a>-nimisen työkalun käyttö. <em>create-react-app</em> on mahdollista asentaa omalle koneelle, mutta asennukseen ei ole tarvetta jos Noden mukana asentunut <em>npm</em>-työkalu on versioltaan vähintään <em>5.3</em>. Tällöin npm:n mukana asentuu komento <em>npx</em>, joka mahdollistaa create-react-app:in käytön asentamatta sitä erikseen. Npm:n version saa selville komennolla <em>npm -v</em>.</p>
<p>Luodaan sovellus nimeltään <em>osa1</em> ja mennään sovelluksen sisältämään hakemistoon:</p>
<pre>

$ npx create-react-app osa1
$ cd osa1
$ npm start
</pre>
<p>Kaikki tässä (ja jatkossa) annettavat merkillä $ alkavat komennot on kirjoitettu terminaaliin eli komentoriville. Merkkiä $ tule kirjoittaa, sillä se edustaa komentokehoitetta.</p>
<p>React on koko ajan aktiivisen kehityksen alla. Tämän vuoden ensimmäisen neljänneksen aikana Reactiin on tulossa erittäin merkittävä lisäys <a href="https://reactjs.org/docs/hooks-intro.html">hookit</a> jotka tulevat vaikuttamaan merkittävästi siihen miten Reactia tullaan tulevaisuudessa käyttämään. Koska haluamme elää kehityksen eturintamassa käytämme kurssilla hookeja alusta asti. </p>
<p>Hookit eivät ole vielä Reactin uusimmassa virallisessa julkaisussa 0.16.7, mutta ne löytyvät hieman <a href="https://reactjs.org/blog/2018/12/19/react-v-16-7.html">erikoisesti numeroidusta</a> julkaisusta 0.16.7-alpha.2</p>
<p>Saamme hookit käyttöön antamalla seuraavan komenon sovelluksen sisältävässä hakemistossa:</p>
<pre>

npm install -s react@16.7.0-alpha.2 react-dom@16.7.0-alpha.2
</pre>
<p>Joudumme siis ainakin alkuvuoden ajan antamaan aina edellisen komennon kun aloitamme uuden React-projektin.</p>
<p>Sovellus käynnistetään seuraavasti</p>
<pre>

$ npm start
</pre>
<p>Sovellus käynnistyy oletusarvoisesti localhostin porttiin 3000, eli osoitteeseen <a href="http://localhost:3000">http://localhost:3000</a></p>
<p>Chromen pitäisi aueta automaattisesti. Avaa konsoli <strong>välittömästi</strong>. Avaa myös tekstieditori siten, että näet koodin ja web-sivun samaan aikaan ruudulla:</p>
<picture><img style="border-color:#AEFFDA" alt="asd" src="/static/1a6e78155c5ac2c56ba6fd327ef9555f/14be6/1a.png"/></picture>
<p>Sovelluksen koodi on hakemistossa <em>src</em>. Yksinkertaistetaan valmiina olevaa koodia siten, että tiedoston <em>index.js</em> sisällöksi tulee:</p>
<pre><code class="language-react">import React from &#x27;react&#x27;
import ReactDOM from &#x27;react-dom&#x27;

const App = () =&gt; (
  &lt;div&gt;
    &lt;p&gt;Hello world&lt;/p&gt;
  &lt;/div&gt;
)

ReactDOM.render(&lt;App /&gt;, document.getElementById(&#x27;root&#x27;))
</code></pre>
<p>Tiedostot <em>App.js</em>, <em>App.css</em>, <em>App.test.js</em>, <em>logo.svg</em> ja <em>registerServiceWorker.js</em> voi poistaa sillä niitä emme sovelluksessamme nyt tarvitse.</p>
<h3>Komponentti</h3>
<p>Tiedosto <em>index.js</em> määrittelee nyt React-<a href="https://reactjs.org/docs/components-and-props.html">komponentin</a> nimeltään <em>App</em> ja viimeisen rivin komento</p>
<pre><code class="language-react">ReactDOM.render(&lt;App /&gt;, document.getElementById(&#x27;root&#x27;))
</code></pre>
<p>renderöi komponentin sisällön tiedoston <em>public/index.html</em> määrittelemään <em>div</em>-elementtiin, jonka <em>id:n</em> arvona on &#x27;root&#x27;</p>
<p>Tiedosto <em>public/index.html</em> on oleellisesti ottaen tyhjä, voit kokeilla lisätä sinne HTML:ää. Reactilla ohjelmoitaessa yleensä kuitenkin kaikki renderöitävä sisältö määritellään Reactin komponenttien avulla.</p>
<p>Tarkastellaan vielä tarkemmin komponentin määrittelevää koodia:</p>
<pre><code class="language-react">const App = () =&gt; (
  &lt;div&gt;
    &lt;p&gt;Hello world&lt;/p&gt;
  &lt;/div&gt;
)
</code></pre>
<p>Kuten arvata saattaa, komponentti renderöityy <em>div</em>-tagina, jonka sisällä on <em>p</em>-tagin sisällä oleva teksti <em>Hello world</em>.</p>
<p>Teknisesti ottaen komponentti on määritelty Javascript-funktiona. Seuraava siis on funktio (joka ei saa yhtään parametria):</p>
<pre><code class="language-react">() =&gt; (
  &lt;div&gt;
    &lt;p&gt;Hello world&lt;/p&gt;
  &lt;/div&gt;
)
</code></pre>
<p>joka sijoitetaan vakioarvoiseen muuttujaan <em>App</em></p>
<pre><code class="language-js">const App = ...
</code></pre>
<p>Javascriptissa on muutama tapa määritellä funktioita. Käytämme nyt Javascriptin hieman uudemman version <a href="http://es6-features.org/#Constants">EcmaScript 6:n</a> eli ES6:n <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions">nuolifunktiota</a> (arrow functions).</p>
<p>Koska funktio koostuu vain yhdestä lausekkeesta, on käytössämme lyhennysmerkintä, joka vastaa oikeasti seuraavaa koodia:</p>
<pre><code class="language-react">const App = () =&gt; {
  return (
    &lt;div&gt;
      &lt;p&gt;Hello world&lt;/p&gt;
    &lt;/div&gt;
  )
}
</code></pre>
<p>eli funktio palauttaa sisältämänsä lausekkeen arvon.</p>
<p>Komponentin määrittelevä funktio voi sisältää mitä tahansa Javascript-koodia. Muuta komponenttisi seuraavaan muotoon ja katso mitä konsolissa tapahtuu:</p>
<pre><code class="language-react">const App = () =&gt; {
  console.log(&#x27;Hello from komponentti&#x27;)
  return (
    &lt;div&gt;
      &lt;p&gt;Hello world&lt;/p&gt;
    &lt;/div&gt;
  )}
</code></pre>
<p>Komponenttien sisällä on mahdollista renderöidä myös dynaamista sisältöä.</p>
<p>Muuta komponentti muotoon:</p>
<pre><code class="language-react">const App = () =&gt; {
  const now = new Date()
  const a = 10
  const b = 20
  return (
    &lt;div&gt;
      &lt;p&gt;Hello world, it is {now.toString()}&lt;/p&gt;
      &lt;p&gt;{a} plus {b} is {a + b}&lt;/p&gt;
    &lt;/div&gt;
  )
}
</code></pre>
<p>Aaltosulkeiden sisällä oleva Javascript-koodi evaluoidaan ja evaluoinnin tulos upotetaan määriteltyyn kohtaan komponentin tuottamaa HTML-koodia.</p>
<h3>JSX</h3>
<p>Näyttää siltä, että React-komponentti palauttaa HTML-koodia. Näin ei kuitenkaan ole. React-komponenttien ulkoasu kirjoitetaan yleensä <a href="https://reactjs.org/docs/introducing-jsx.html">JSX</a>:ää käyttäen. Vaikka JSX näyttää HTML:ltä, kyseessä on kuitenkin tapa kirjoittaa Javascriptiä. React komponenttien palauttama JSX käännetään konepellin alla Javascriptiksi.</p>
<p>Käännösvaiheen jälkeen ohjelmamme näyttää seuraavalta:</p>
<pre><code class="language-js">import React from &#x27;react&#x27;;
import ReactDOM from &#x27;react-dom&#x27;;

const App = () =&gt; {
  const now = new Date();
  const a = 10;
  const b = 20;
  return React.createElement(
    &#x27;div&#x27;,
    null,
    React.createElement(&#x27;p&#x27;, null, &#x27;Hello world, it is &#x27;, now.toString()),
    React.createElement(&#x27;p&#x27;, null, a, &#x27; plus &#x27;, b, &#x27; is &#x27;, a + b)
  );
};

ReactDOM.render(
  React.createElement(App, null),
  document.getElementById(&#x27;root&#x27;)
);
</code></pre>
<p>Käännöksen hoitaa <a href="https://babeljs.io/repl/">Babel</a>. Create-react-app:illa luoduissa projekteissa käännös on konfiguroitu tapahtumaan automaattisesti. Tulemme tutustumaan aiheeseen tarkemmin kurssin <a href="/osa7">osassa 7</a>.</p>
<p>Reactia olisi myös mahdollista kirjoittaa &quot;suoraan Javascriptinä&quot; käyttämättä JSX:ää. Kukaan täysijärkinen ei kuitenkaan niin tee.</p>
<p>Käytännössä JSX on melkein kuin HTML:ää sillä erotuksella, että mukaan voi upottaa helposti dynaamista sisältöä kirjoittamalla sopivaa Javascriptiä aaltosulkeiden sisälle. Idealtaan JSX on melko lähellä monia palvelimella käytettäviä templating-kieliä kuten Java Springin yhteydessä käytettävää thymeleafia.</p>
<p>JSX on &quot;XML:n kaltainen&quot;, eli jokainen tagi tulee sulkea. Esimerkiksi rivinvaihto on tyhjä elementti, joka kirjoitetaan HTML:ssä tyypillisesti</p>
<pre><code class="language-html">&lt;br&gt;
</code></pre>
<p>mutta JSX:ää kirjoittaessa tagi on pakko sulkea:</p>
<pre><code class="language-html">&lt;br /&gt;
</code></pre>
<h2>Monta komponenttia</h2>
<p>Muutetaan sovellusta seuraavasti (yläreunan importit jätetään <em>esimerkeistä</em> nyt ja jatkossa pois, niiden on kuitenkin oltava koodissa jotta ohjelma toimisi):</p>
<pre><code class="language-react">const Hello = () =&gt; {
  return (
    &lt;div&gt;
      &lt;p&gt;Hello world&lt;/p&gt;
    &lt;/div&gt;
  )
}

const App = () =&gt; {
  return (
    &lt;div&gt;
      &lt;h1&gt;Greetings&lt;/h1&gt;
      &lt;Hello /&gt;
    &lt;/div&gt;
  )
}

ReactDOM.render(&lt;App /&gt;, document.getElementById(&#x27;root&#x27;))
</code></pre>
<p>Olemme määritelleet uuden komponentin <em>Hello</em>, jota käytetään komponentista <em>App</em>. Komponenttia voidaan luonnollisesti käyttää monta kertaa:</p>
<pre><code class="language-react">const App = () =&gt; {
  return (
    &lt;div&gt;
      &lt;h1&gt;Greetings&lt;/h1&gt;
      &lt;Hello /&gt;
      &lt;Hello /&gt;
      &lt;Hello /&gt;
    &lt;/div&gt;
  )
}
</code></pre>
<p>Komponenttien tekeminen Reactissa on helppoa ja komponentteja yhdistelemällä monimutkaisempikin sovellus on mahdollista pitää kohtuullisesti ylläpidettävänä. Reactissa filosofiana onkin koostaa sovellus useista, pieneen asiaan keskittyvistä uudelleenkäytettävistä komponenteista.</p>
<h2>props: tiedonvälitys komponenttien välillä</h2>
<p>Komponenteille on mahdollista välittää dataa <a href="https://reactjs.org/docs/components-and-props.html">propsien</a> avulla.</p>
<p>Muutetaan komponenttia <em>Hello</em> seuraavasti</p>
<pre><code class="language-react">const Hello = (props) =&gt; {
  return (
    &lt;div&gt;
      &lt;p&gt;Hello {props.name}&lt;/p&gt;
    &lt;/div&gt;
  )
}
</code></pre>
<p>komponentin määrittelevällä funktiolla on nyt parametri <em>props</em>. Parametri saa arvokseen olion, jonka kenttinä ovat kaikki eri &quot;propsit&quot;, jotka komponentin käyttäjä määrittelee.</p>
<p>Propsit määritellään seuraavasti:</p>
<pre><code class="language-react">const App = () =&gt; {
  return (
    &lt;div&gt;
      &lt;h1&gt;Greetings&lt;/h1&gt;
      &lt;Hello name=&quot;Arto&quot; /&gt;
      &lt;Hello name=&quot;Pekka&quot; /&gt;
    &lt;/div&gt;
  )
}
</code></pre>
<p>Propseja voi olla mielivaltainen määrä ja niiden arvot voivat olla &quot;kovakoodattuja&quot; merkkijonoja tai Javascript-lausekkeiden tuloksia. Jos propsin arvo muodostetaan Javascriptillä, tulee se olla aaltosulkeissa.</p>
<p>Muutetaan koodia siten, että komponentti <em>Hello</em> käyttää kahta propsia:</p>
<pre><code class="language-react">const Hello = (props) =&gt; {
  return (
    &lt;div&gt;
      &lt;p&gt;Hello {props.name}, you are {props.age} years old&lt;/p&gt;
    &lt;/div&gt;
  )
}

const App = () =&gt; {
  const nimi = &#x27;Pekka&#x27;
  const ika = 10

  return (
    &lt;div&gt;
      &lt;h1&gt;Greetings&lt;/h1&gt;
      &lt;Hello name=&quot;Arto&quot; age={26 + 10} /&gt;
      &lt;Hello name={nimi} age={ika} /&gt;
    &lt;/div&gt;
  )
}
</code></pre>
<p>Komponentti <em>App</em> lähettää propseina muuttujan arvoja, summalausekkeen evaluoinnin tuloksen ja normaalin merkkijonon.</p>
<h3>Muutamia huomioita</h3>
<p>React on konfiguroitu antamaan varsin hyviä virheilmoituksia. Kannattaa kuitenkin edetä ainakin alussa <strong>todella pienin askelin</strong> ja varmistaa, että jokainen muutos toimii halutulla tavalla.</p>
<p><strong>Konsolin tulee olla koko ajan auki</strong>. Jos selain ilmoittaa virheestä, ei kannata kirjoittaa sokeasti lisää koodia ja toivoa ihmettä tapahtuvaksi, vaan tulee yrittää ymmärtää virheen syy ja esim. palata edelliseen toimivaan tilaan:</p>
<picture><img style="border-color:#AEFFDA" alt="asd" src="/static/d6976fc68cf1d476dfdad2730e4614d5/14be6/2a.png"/></picture>
<p>Kannattaa myös muistaa, että React-koodissakin on mahdollista ja kannattavaa lisätä koodin sekaan sopivia konsoliin tulostavia <code>console.log()</code>-komentoja. Tulemme hieman <a href="#react-sovellusten-debuggaus">myöhemmin</a> tutustumaan muutamiin muihinkin tapoihin debugata Reactia.</p>
<p>Kannattaa pitää mielessä, että <strong>React-komponenttien nimien tulee alkaa isolla kirjaimella</strong>. Jos yrität määritellä komponentin seuraavasti:</p>
<pre><code class="language-react">const footer = () =&gt; {
  return (
    &lt;div&gt;greeting app created by &lt;a href=&quot;https://github.com/mluukkai&quot;&gt;mluukkai&lt;/a&gt;&lt;/div&gt;
  )
}
</code></pre>
<p>ja ottaa se käyttöön</p>
<pre><code class="language-react">const App = () =&gt; {
  return (
    &lt;div&gt;
      &lt;h1&gt;Greetings&lt;/h1&gt;
      &lt;Hello name=&quot;Arto&quot; age={26 + 10} /&gt;
      &lt;footer /&gt;
    &lt;/div&gt;
  )
}
</code></pre>
<p>sivulle ei kuitenkaan ilmesty näkyviin Footer-komponentissa määriteltyä sisältöä, vaan React luo sivulle ainoastaan tyhjän <em>footer</em>-elementin. Jos muutat komponentin nimen alkamaan isolla kirjaimella, React luo sivulle <em>div</em>-elementin, joka määriteltiin Footer-komponentissa.</p>
<p>Kannattaa myös pitää mielessä, että React-komponentin sisällön tulee (yleensä) sisältää <strong>yksi juurielementti</strong>. Eli jos yrittäisimme määritellä komponentin <em>App</em> ilman uloimmaista <em>div</em>-elementtiä:</p>
<pre><code class="language-react">const App = () =&gt; {
  return (
    &lt;h1&gt;Greetings&lt;/h1&gt;
    &lt;Hello name=&quot;Arto&quot; age={26 + 10} /&gt;
    &lt;Footer /&gt;
  )
}
</code></pre>
<p>seurauksena on virheilmoitus:</p>
<picture><img style="border-color:#AEFFDA" alt="asd" src="/static/b24675fa8665e8f1911c4248081d4650/14be6/3a.png"/></picture>
<p>Juurielementin käyttö ei ole ainoa toimiva vaihtoehto, myös <em>taulukollinen</em> komponentteja on validi tapa:</p>
<pre><code class="language-react">const App = () =&gt; {
  return (
    [
      &lt;h1&gt;Greetings&lt;/h1&gt;,
      &lt;Hello name=&quot;Arto&quot; age={26 + 10} /&gt;,
      &lt;Footer /&gt;
    ]
  )
}
</code></pre>
<p>Määritellessä sovelluksen juurikomponenttia, tämä ei kuitenkaan ole järkevää ja näyttää koodissakin pahalta.</p>
<p>Juurielementin pakollinen käytöstä on se seuraus, että sovelluksen DOM-puuhun tulee &quot;ylimääräisiä&quot; div-elementtejä. Tämä on mahdollista välttää käyttmällä <a href="https://reactjs.org/docs/fragments.html#short-syntax">fragmentteja</a>, eli ympäröimällä komponentin palauttamat elementit tyhjällä elementillä:</p>
<pre><code class="language-react">const App = () =&gt; {
  const name = &#x27;Pekka&#x27;
  const ika = 10

  return (
    &lt;&gt;
      &lt;h1&gt;Greetings&lt;/h1&gt;
      &lt;Hello name=&quot;Arto&quot; age={26 + 10} /&gt;
      &lt;Hello name={nimi} age={ika} /&gt;
      &lt;Footer /&gt;
    &lt;/&gt;
  )
}
</code></pre>
<p>Nyt käännös menee läpi ja Reactin generoimaan DOM:iin ei tule ylimääräistä div-elementtiä.</p>
</div></div>
<div class="banner spacing spacing--after" style="background-color:#AEFFDA"><div class="container"><div class="course-content col-7 push-right-3">
  <h3>Tehtäviä </h3>
  <h4>1.1: jako komponenteiksi</h4>
<p><em>Tässä tehtävässä aloitettavaa ohjelmaa kehitellään eteenpäin muutamassa seuraavassa tehtävässä. Tässä ja kurssin aikana muissakin vastaantulevissa tehtäväsarjoissa ohjelman lopullisen version palauttaminen  riittää, voit toki halutessasi tehdä commitin jokaisen tehtävän jälkeisestä tilanteesta, mutta se ei ole välttämätöntä.</em></p>
<p>Luo create-react-app:illa uusi sovellus. Muuta <i>index.js</i> muotoon</p>
<pre><code class="language-react">import React from &#x27;react&#x27;
import ReactDOM from &#x27;react-dom&#x27;

const App = () =&gt; {
  const course = &#x27;Half Stack -sovelluskehitys&#x27;
  const part1 = &#x27;Reactin perusteet&#x27;
  const exercises1 = 10
  const part2 = &#x27;Tiedonvälitys propseilla&#x27;
  const exercises2 = 7
  const part3 = &#x27;Komponenttien tila&#x27;
  const exercises3 = 14

  return (
    &lt;div&gt;
      &lt;h1&gt;{course}&lt;/h1&gt;
      &lt;p&gt;{part1} {exercises1}&lt;/p&gt;
      &lt;p&gt;{part2} {exercises2}&lt;/p&gt;
      &lt;p&gt;{part3} {exercises3}&lt;/p&gt;
      &lt;p&gt;yhteensä {exercises1 + exercises2 + exercises3} tehtävää&lt;/p&gt;
    &lt;/div&gt;
  )
}

ReactDOM.render(
  &lt;App /&gt;,
  document.getElementById(&#x27;root&#x27;)
)
</code></pre>
<p>ja poista ylimääräiset tiedostot.</p>
<p>Koko sovellus on nyt ikävästi yhdessä komponentissa. Refaktoroi sovelluksen koodi siten, että se koostuu kolmesta komponentista <i>Header</i>, <i>Content</i> ja <i>Total</i>. Kaikki data pidetään edelleen komponentissa <i>App</i>, joka välittää tarpeelliset tiedot kullekin komponentille <i>props:ien</i> avulla. <i>Header</i> huolehtii kurssin nimen renderöimisestä, <i>COntent</i> osista ja niiden tehtävämääristä ja <i>Total</i> tehtävien yhteismäärästä.</p>
<p>Komponentin <i>App</i> runko tulee olemaan suunnilleen seuraavanlainen:</p>
<pre><code class="language-react">const App = () =&gt; {
  // const-määrittelyt

  return (
    &lt;div&gt;
      &lt;Header course={course} /&gt;
      &lt;Content ... /&gt;
      &lt;Total ... /&gt;
    &lt;/div&gt;
  )
}
</code></pre>
<h4>1.2: lisää komponentteja</h4>
<p>Refaktoroi vielä komponentti <i>Content</i> siten, että se ei itse renderöi yhdenkään osan nimeä eikä sen tehtävälukumäärää vaan ainoastaan kolme <i>Part</i>-nimistä komponenttia, joista kukin siis renderöi yhden osan nimen ja tehtävämäärän.</p>
<pre><code class="language-react">const Content = ... {
  return (
    &lt;div&gt;
      &lt;Part .../&gt;
      &lt;Part .../&gt;
      &lt;Part .../&gt;
    &lt;/div&gt;
  )
}
</code></pre>
<p>Sovelluksemme tiedonvälitys on tällä hetkellä todella alkukantaista, sillä se perustuu yksittäisiin muuttujiin. Tilanne paranee pian.</p>
</div></div></div></div><div class="container spacing element--flex element--column element--centered"><div class="body-text "><p class="body-text__content bold">Tehtävien palautus</p></div><a href="https://studies.cs.helsinki.fi/fullstackopen/" style="padding:1rem 0" class="col-2 centered spacing--small"><div class="triple-border  triple-border--large-margin" style="padding:"><div class="triple-border__container triple-border__return-tasks" style="background-color:transparent">Palauta tehtävät palautussovellukseen</div></div></a></div><div class="container spacing spacing--after-large "><a class="push-right-1" href="/osa0"><div class=" element--flex element--column"><p style="text-align:right">Osa <!-- -->0</p><b>Edellinen osa</b></div></a><a class="push-left-1" href="/osa2"><div class=" element--flex element--column"><p>Osa <!-- -->2</p><b>Seuraava osa</b></div></a></div></div></div></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-templates-content-template-js","jsonName":"osa-1-reactin-alkeet-28b","path":"/osa1/reactin_alkeet"};window.dataPath="774/path---osa-1-reactin-alkeet-28-b-9c8-nLP7HwLChSFB8CTZF71paBCZsw";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-e57bcd659185b811abbf.js"],"component---src-templates-content-template-js":["/component---src-templates-content-template-js.bb6688043828bda42216.css","/component---src-templates-content-template-js-1511b04e7342894ff772.js"],"component---src-pages-404-js":["/component---src-pages-404-js-d105615186347619f3ea.js"],"component---src-pages-about-js":["/component---src-pages-about-js.9cb33badb6596f6554cf.css","/component---src-pages-about-js-33d39daca86354262832.js"],"component---src-pages-companies-js":["/component---src-pages-companies-js-8ccc1ef3cfee87833041.js"],"component---src-pages-faq-js":["/component---src-pages-faq-js-ac90fd3ee9c727a46e04.js"],"component---src-pages-index-js":["/component---src-pages-index-js.054d4c52cecca6da6c62.css","/component---src-pages-index-js-ff419c65d16d8fc5151e.js"],"component---src-pages-osa-0-js":["/component---src-pages-osa-0-js.b8658faab52da8be69f9.css","/component---src-pages-osa-0-js-981dfd2967dd9f05870d.js"],"component---src-pages-osa-1-js":["/component---src-pages-osa-1-js.b8658faab52da8be69f9.css","/component---src-pages-osa-1-js-946385d5d0e0bf93d9e7.js"],"component---src-pages-osa-2-js":["/component---src-pages-osa-2-js.b8658faab52da8be69f9.css","/component---src-pages-osa-2-js-839c7c09aa8e4a4c13d9.js"],"component---src-pages-osa-3-js":["/component---src-pages-osa-3-js.b8658faab52da8be69f9.css","/component---src-pages-osa-3-js-31955868da18833a534d.js"],"component---src-pages-osa-4-js":["/component---src-pages-osa-4-js.b8658faab52da8be69f9.css","/component---src-pages-osa-4-js-088ab9adfd67fa602964.js"],"component---src-pages-osa-5-js":["/component---src-pages-osa-5-js.b8658faab52da8be69f9.css","/component---src-pages-osa-5-js-1d2b2336913251264af9.js"],"component---src-pages-osa-6-js":["/component---src-pages-osa-6-js.b8658faab52da8be69f9.css","/component---src-pages-osa-6-js-1114c8fcf3edaff242ce.js"],"component---src-pages-osa-7-js":["/component---src-pages-osa-7-js.b8658faab52da8be69f9.css","/component---src-pages-osa-7-js-e06c5739a667540a2af6.js"]};/*]]>*/</script><script src="/webpack-runtime-3b805a48dcba249fc046.js" async=""></script><script src="/app-e57bcd659185b811abbf.js" async=""></script><script src="/2-a8e181bf0eaee510a2de.js" async=""></script><script src="/component---src-templates-content-template-js-1511b04e7342894ff772.js" async=""></script></body></html>